\section{Related work}
<<<<<<< HEAD
It is notoriously challenging to construct general models for human movement due to the complex interplay of planning and optimization processes at work, and it is often necessary to develop ad hoc solutions. Our work relates most closely to path following as in MOTIONMATCHINGREF, \citep{holden.16} or \citep{startke20} where movement is specified explicitly by the user and tracked by the animation synthesizer which is constructed from a set of reference animations. Such systems typically allow a discrepancy between the control signal and the path traced out by the generated animations or avoid the issue by adding more reference data for better coverage. Our method address this discrepancy as a pre-pass where a suitable movement model is found and reference animations are aligned, before being passed on to a secondary system.  
=======
\kenny{remember to comment on how your work compare or is different to the work you describe in this section. Reader needs to understand the value of your work after having read this section.}
The complexity of human movement is evident in character animation research where general solutions are rare and it is often necessary to develop tailor made solutions for different types of tasks. Our work relates most directly to path following task as in \citep{lee10}, \citep{holden.16} where a detailed movement is specified by the user and tracked by the animation synthesizer. Our approach is in principle generally applicable, but we restrict ourselves to path following. In these systems we often find analogies to movement models whenever high level user input from mouse or gamepad is projected into task specifications such as a series of game coordinates to specify a path. There is a necessary tradeoff between the quality of the synthesizer animation and the accuracy of the tracking which is often exposed as an adjustable parameter.
>>>>>>> origin/overleaf-2021-04-29-1812

A further motivation for our work is seen in the division between gameplay and animation layers described by \citep{holden18} and reflected in state of the art industry tools such as Unreal Engine and Unity. Both expose animation systems with the ability to toggle root motion for animation clips. In our experience root motion is primarily used for static content such as cinematics, while dynamic gameplay relies on custom logic to provide changes in character position. 

We also relate our method to other research areas where high level controls are translated or used directly to drive an animation synthesizer. 

To our knowledge no work has been published with synchronization between model and reference animations by adjustment of both components.
\subsection{User input attractor}
In the game industry character movement controllers typically transition from a starting state towards the direction supplied by the user using an assortment of smoothing techniques such as lerp, exponential decay or damped springs applied to positions, velocities or accelerations as seen in \citep{buttner20} and \citep{holden21}. 
In research a similar approach is in \citep{mccann07}, \citep{holden.16}, \citep{Zhang18}. Additionally \citep{startke20} projects smooth user input to a lower level control space similar to trajectories found in reference animations. This illustrates the discrepancy between weak control signals and synthesized motion which is common to these methods, and addressed by exposing a parameter to control divergence of synthesized motion from the control signal (responsiveness) versus accepting visual artifacts (realism) MOTION MTACHJING SLIDER REF. 

<<<<<<< HEAD
It is a complex task to design expressive controllers using smooth input attraction. As a generalization research prefers simple models with complexity relayed to the animation synthesizer, while industry need a stronger correspondence and construct elaborate models using multiple springs intricately connected by state machines. Our method proposes to replace this tedious and difficult work through automation. 

A variant of user input attraction is found in \citep{treuille07} where an offline system tracks a path drawn by the user. In this case we have no movement model as the user input is exactly the low level control signal. Oppositely \citep{kovar02} use reward functions to provide less constrained control when the user specifies goals such has 'end position' that have no path requirements, and in \citep{lee18} 'straightness' and other stylistic traits contribute to similar rewards. In these cases the movement model is embedded in the animation synthesizes, but could be separated by augmenting the reward functions. Since high level tasks are used to allow the synthesizer some freedom, the specification is most often kept simple. A hybrid approach in \citep{lee10} track a control direction from the user with no explicit path but with a short horizon tending toward a path specification.

\subsection{Motion planning and control theory}
When a closed dynamical system exposes control input it is necessary to analyze how specific movements can be achieved using the available commands. Motion planning explores manipulation of mechanical systems like robots, while control theory examine systems of differential equations. In both cases the task is to extract discrete control signals that would makes a closed system follow a reference motion. This is inverse to the analysis of movement models, where we seek to replicate a closed system by examining relationships between fixed control signals (control genomes) and movement extracted from reference animations. 
=======
\subsection{Explicit low level control}
Offline system are not restricted to a mapping between high level user input and a low level control signals. In \citep{treuille07} complete movements path are supplied by the user.

\subsection{Reward function optimization}
Abstract. No real movement model .
\citep{kovar02} has as an abstract error function that is solved optimally.
\citep{lee10} has a reward function that track the error between desired and current direction
\citep{lee18} supplies a distant control target target such as a final position, and combined with a attributes such as 'straight' to guide the movement.
Robotics in here ?

\subsection{Animation coverage}
Movement model is like \kenny{"like" either it is or not, always be specific and precise} a model to represent the coverage of the animation system, in a format that is simpler than the animations themselves. Extract trajectories from animation (Buttner), train model to convert (Local phase thing). 
>>>>>>> origin/overleaf-2021-04-29-1812

\subsection{Function approximation}
Similar to \citep{startke20} it is possible to augment a basic input attractor with a secondary filter to capture additional details in reference animations. Dynamical movement primitives activate radial basis functions with a secondary scale function to capture such details while remaining robust to changes in timing. This method could replace our movement model, but requires an increasing amount of basis functions to capture finer details. This makes the model difficult to inspect and expensive to evaluate. Furthermore our approach manages complexity in a dual approach by combining movement models that are more expressive than simple point attractors, with alignments that remove unnecessary complexity from the reference animations. This retains the correctness of the end-to-end solution, but eliminates the need to capture fine grained details in the movement model.


<<<<<<< HEAD
=======
\subsection{Motion matching and animation graphs}
Classical graph based animation systems such as \citep{treuille07} have users draw directories as control signal for path following task. Here the mapping from abstract control space, ie. 'turn right', to a motion plan is entirely up to the user. This bypasses the need for a movement model, at the cost of reduced quality when the users requests paths that are not present in the animation data.

\kenny{It is often nice to describe how your work compare to the work you survey in the previous work section. Either comment on similarities or differences, focus on limitations and strengths. As an example you could write this:}\kenny{Movement models work well together with this class of animation methods, and as we demonstrate in this paper increases control-ability and quality without putting extra work effort on the animators in game production.}




\subsection{Generative models (neural networks)}
\citep{kovar02} has as an abstract error function that is solved optimally.
\citep{lee10} has a reward function that track the error between desired aand current direciont

Generatetive neural networks Weak Control Signals
    Starke use weak signal and input noise. More noise, better animation, and less control.

    \citep{lee18} supplies a distant control target target such as a final position, and combined with a attributes such as 'straight' to guide the movement.

Graph based approach 
    Hodgins, motion fragments

Control Theory

Function approximations 
    RBF, movement primitives

Motion planning
    Robotics (deep loco good to look at)
    Graph based stuff

\kenny{what is state of the art work to compare against?}


\subsection{Animation Warping}
Animation warping can be viewed as a generative model trained on $D$. 
>>>>>>> origin/overleaf-2021-04-29-1812

